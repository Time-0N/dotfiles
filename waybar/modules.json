//  __      __               ___.                     _____             .___    .__                 
// /  \    /  \_____  ___.__.\_ |__ _____ _______    /     \   ____   __| _/_ __|  |   ____   ______
// \   \/\/   /\__  \<   |  | | __ \\__  \\_  __ \  /  \ /  \ /  _ \ / __ |  |  \  | _/ __ \ /  ___/
//  \        /  / __ \\___  | | \_\ \/ __ \|  | \/ /    Y    (  <_> ) /_/ |  |  /  |_\  ___/ \___ \ 
//   \__/\  /  (____  / ____| |___  (____  /__|    \____|__  /\____/\____ |____/|____/\___  >____  >
//        \/        \/\/          \/     \/                \/            \/               \/     \/ 
// by Timeon Haas
{
  // Bluetooth Module
  "bluetooth": {
    "format": "",
    "tooltip-format-connected": "{device_enumerate}",
    "tooltip-format-enumerate-connected": "• {device_alias}",
    "on-click": "blueman-manager" // Requires Blueman
  },

  // Network Module
  "network": {
    "format": "{ifname}",
    "format-wifi": "{icon} {essid}",
    "format-ethernet": " {ifname}",
    "format-disconnected": "Disconnected ⚠",
    "format-icons": ["󰤯", "󰤟", "󰤢", "󰤥", "󰤨"],
    "tooltip-format": " {ifname} via {gwaddri}",
    "tooltip-format-wifi": "  {ifname} @ {essid}\nIP: {ipaddr}\nStrength: {signalStrength}%\nFreq: {frequency}MHz\nUp: {bandwidthUpBits} Down: {bandwidthDownBits}",
    "tooltip-format-ethernet": " {ifname}\nIP: {ipaddr}\n up: {bandwidthUpBits} down: {bandwidthDownBits}",
    "tooltip-format-disconnected": "Disconnected",
    "max-length": 50,
    "on-click": "nm-connection-editor",
    "on-click-right": "nm-connection-editor"
  },

  // CPU Module
  "cpu": {
    "interval": 2,
    "format": " {usage}%"
  },

  // RAM Module
  "memory": {
    "interval": 5,
    "format": " {percentage}%",
    "tooltip-format": "RAM {used} MiB / {total} MiB • SWAP {swapUsed}/{swapTotal} MiB",
    "states": { "warning": 70, "critical": 90 }
  },

  // Custom GPU Module
  "custom/gpu": {
    "return-type": "json",
    "format": "󰢮 {}",
    "exec": "sh -c 'f=$(ls /sys/class/drm/card*/device/gpu_busy_percent 2>/dev/null | head -n1); v=$(cat \"$f\" 2>/dev/null || echo 0); printf \"{\\\"text\\\":\\\"%s%%\\\",\\\"percentage\\\":%s}\\n\" \"$v\" \"$v\"'",
    "interval": 2,
    "states": { "warning": 60, "critical": 90 }
  },

  // Speaker (output) Module
  "wireplumber#sink": {
    "node-type": "Audio/Sink",
    "format": " {volume}%",
    "format-muted": "",
    "on-click": "pavucontrol",
    "on-click-right": "wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle",
    "on-scroll-up": "wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+",
    "on-scroll-down": "wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-"
  },

  // Microphone (input) Module
  "wireplumber#mic": {
    "node-type": "Audio/Source",
    "format": " {volume}%",
    "format-muted": "",
    "on-click": "pavucontrol -t 4",
    "on-click-right": "wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle",
    "on-scroll-up": "wpctl set-volume @DEFAULT_AUDIO_SOURCE@ 5%+",
    "on-scroll-down": "wpctl set-volume @DEFAULT_AUDIO_SOURCE@ 5%-"
  },

  // Audio Player Module
  "mpris": {
    "format": "{status_icon} {title} - {artist}",
    "format-paused": "{status_icon} {title} - {artist}",
    "status-icons": { "playing": "", "paused": "", "stopped": "" },
    "title-len": 30,
    "artist-len": 20,
    "max-length": 100,
    "tooltip-format": "Playing: {title} - {artist}",
    "on-click": "playerctl play-pause",
    "on-click-middle": "playerctl previous",
    "on-click-right": "playerctl next"
  },

  // Custom OS Logo Module
  "custom/os": {
  "exec": "~/.config/waybar/scripts/os_logo.sh",
  "return-type": "json",
  "format": "{}",
  "interval": 3600
  },

  // Backlight Module (best for laptops)
  //"backlight": {
  //  "format": "{icon} {percent}%",
  //  "format-icons": ["󰃝", "󰃟", "󰃠"],
  //  "on-scroll-up": "brightnessctl set 5%+",
  //  "on-scroll-down": "brightnessctl set 5%-",
  //  "on-click": "brightnessctl set 50%"
  //}

  // System Tray Module
  "tray": {
    "icon-size": 20,
    "spacing": 10,
    "show-passive-items": true,
    "reverse-direction": false,
    "smooth-scrolling-threshold": 1.0
  },

  // Custom Update Module
  "custom/updates": {
  "format": "{}",
    "return-type": "json",
    "escape": true,
    "tooltip": true,
    "exec": "~/.config/waybar/scripts/check_updates.sh",
    "interval": 1800,
    "signal": 1,
    "hide-empty-text": true,
    "on-click": "~/.config/waybar/scripts/update_system.sh"
  },

  // Custom CAVA Aduio Visualizer Module
  "custom/cava": {
    "exec": "~/.config/waybar/scripts/cava.sh",
    "format": "♪ {}",
    "interval": 0,
    "on-click-middle": "playerctl play-pause",
    "on-click-right": "playerctl next",
    "on-click-left": "playerctl previous"
  },

  // Workspaces (hyprland) Module
  "hyprland/workspaces": {
    "format": "{icon}",
    "format-icons": {
      "default": "",
      "active": ""
    },
    "persistent-workspaces": {
      "*": 1
    },
    "disable-scroll": true,
    "all-outputs": true,
    "show-special": true
  },

  // Idle Inhibitor Module
    "idle_inhibitor": {
    "format": "{icon}",
    "format-icons": {
      "activated": "󰌾",
      "deactivated": "󰌵"
    },
    "tooltip-format-activated": "Idle inhibitor: ON",
    "tooltip-format-deactivated": "Idle inhibitor: OFF"
  },

  // Custom Notifications Module
  "custom/notification": {
    "tooltip-format": "Left: Notifications\nRight: Do not disturb",
    "format": "{icon}",
    "format-icons": {
      "notification": "<span rise='8pt'><span foreground='red'><sup></sup></span></span>",
      "none": "",
      "dnd-notification": "<span rise='8pt'><span foreground='red'><sup></sup></span></span>",
      "dnd-none": "",
      "inhibited-notification": "<span rise='8pt'><span foreground='red'><sup></sup></span></span>",
      "inhibited-none": "",
      "dnd-inhibited-notification": "<span rise='8pt'><span foreground='red'><sup></sup></span></span>",
      "dnd-inhibited-none": ""
    },
    "return-type": "json",
    "exec-if": "which swaync-client",
    "exec": "swaync-client -swb",
    "on-click": "swaync-client -t -sw",
    "on-click-right": "swaync-client -d -sw",
    "escape": true
  },

  // Clock Module
  "clock": {
    "format": "  {:%H:%M %a}",
    "format-alt": "  {:%d/%m/%Y  %H:%M:%S}",
    "tooltip-format": "<tt><small>{calendar}</small></tt>",
    "calendar": {
      "mode": "month",
      "mode-mon-col": 3,
      "weeks-pos": "right",
      "on-scroll": 1,
      "on-click-right": "mode",
      "format": {
        "months": "<span color='#ffead3'><b>{}</b></span>",
        "days": "<span color='#ecc6d9'><b>{}</b></span>",
        "weeks": "<span color='#99ffdd'><b>W{}</b></span>",
        "weekdays": "<span color='#ffcc66'><b>{}</b></span>",
        "today": "<span color='#ff6699'><b><u>{}</u></b></span>"
      }
    },
    "interval": 1
  },

  // Custom Power Module | Requires wlogout pkg
  "custom/power": {
    "format": "",
    "on-click": "wlogout",
    "tooltip": "Power menu"
  }
}
